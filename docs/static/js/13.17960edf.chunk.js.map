{"version":3,"sources":["components/theme-header-small/style.js","components/theme-header-small/index.js","pages/player/style.js","pages/player/child-pages/player-info/style.js","pages/player/child-pages/player-info/index.js","pages/player/child-pages/relevant-song-list/style.js","pages/player/child-pages/relevant-song-list/index.js","pages/player/child-pages/similar-songs/style.js","pages/player/child-pages/similar-songs/index.js","pages/player/index.js"],"names":["ThemeHeaderSmallWrapper","styled","div","ASThemeHeaderSmall","props","title","moreText","className","memo","PlayerWrapper","PlayerLeft","PlayerRight","ASPlayerInfoWrapper","Portrait","InfoContent","isSpread","ASPlayerInfo","useState","setIsSpread","useSelector","state","currentSong","getIn","currentLyrics","shallowEqual","name","ar","al","dt","arList","currentSongInfo","songInfo","id","albumName","imgUrl","picUrl","duration","singerNames","map","v","join","totalLyricCount","length","src","alt","href","onClick","e","preventDefault","slice","line","index","lyric","time","RelevantSongListWrapper","ASRelevantSongList","dispatch","useDispatch","relevantSongList","useEffect","getRelevantSongListAction","item","formatImgSize","coverImgUrl","creator","nickname","ASSimilarSongsWrapper","ASSimilarSongs","similarSongs","getSimilarSongsAction","console","log","names","artists","getCurrentSongAction","playSong","ASPlayer","changeSongPageIsMounted"],"mappings":"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","file":"static/js/13.17960edf.chunk.js","sourcesContent":["import styled from \"styled-components\";\r\n\r\nexport const ThemeHeaderSmallWrapper = styled.div`\r\n  height: 24px;\r\n  font-size: 12px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  border-bottom: 1px solid #ccc;\r\n  .left {\r\n    .title {\r\n      color: #333;\r\n      font-weight: bold;\r\n    }\r\n  }\r\n  .right {\r\n    .more {\r\n      color: #666;\r\n    }\r\n  }\r\n`;\r\n","import { memo } from \"react\";\r\nimport { ThemeHeaderSmallWrapper } from \"./style.js\";\r\nconst ASThemeHeaderSmall = (props) => {\r\n  const { title, moreText } = props;\r\n  return (\r\n    <ThemeHeaderSmallWrapper>\r\n      <div className=\"left\">\r\n        <span className=\"title\">{title}</span>\r\n      </div>\r\n      <div className=\"right\">\r\n        <span className=\"more link\">{moreText}</span>\r\n      </div>\r\n    </ThemeHeaderSmallWrapper>\r\n  );\r\n};\r\nexport default memo(ASThemeHeaderSmall);\r\n","import styled from \"styled-components\";\r\n\r\nexport const PlayerWrapper = styled.div`\r\n  overflow: hidden;\r\n  background-color: #fff;\r\n  border: 1px solid #d3d3d3;\r\n  border-top: none;\r\n  border-bottom: none;\r\n  display: flex;\r\n`;\r\n\r\nexport const PlayerLeft = styled.div``;\r\n\r\nexport const PlayerRight = styled.div`\r\n  padding: 20px 40px 40px 30px;\r\n  flex: 1;\r\n  border-left: 2px solid #eaeaea;\r\n`;\r\n","import styled from \"styled-components\";\r\n\r\nexport const ASPlayerInfoWrapper = styled.div`\r\n  padding-top: 35px;\r\n  width: 709px;\r\n  display: flex;\r\n  justify-content: center;\r\n`;\r\nexport const Portrait = styled.div`\r\n  margin-right: 20px;\r\n\r\n  .img_box {\r\n    width: 206px;\r\n    height: 205px;\r\n    position: relative;\r\n    img {\r\n      width: 130px;\r\n      height: 130px;\r\n      position: absolute;\r\n      top: 50%;\r\n      left: 50%;\r\n      transform: translate(-50%, -50%);\r\n    }\r\n    .mask {\r\n      display: block;\r\n      position: absolute;\r\n      top: 0px;\r\n      left: 0px;\r\n      bottom: 0px;\r\n      right: 0px;\r\n      z-index: 99;\r\n      background-position: -140px -580px;\r\n    }\r\n  }\r\n\r\n  .generator {\r\n    margin: 10px 0px 0px -16px;\r\n    text-align: center;\r\n    .icon {\r\n      position: relative;\r\n      top: 3px;\r\n      display: inline-block;\r\n      width: 16px;\r\n      height: 16px;\r\n      background-position: -34px -863px;\r\n    }\r\n    a {\r\n      color: #0c73c2;\r\n      text-decoration: underline;\r\n    }\r\n  }\r\n`;\r\nexport const InfoContent = styled.div`\r\n  width: 414px;\r\n\r\n  .info {\r\n    .name_box {\r\n      display: flex;\r\n      .icon {\r\n        margin-top: 6px;\r\n        width: 54px;\r\n        height: 24px;\r\n        background-position: 0 -463px;\r\n      }\r\n      span {\r\n        flex: 1;\r\n        margin-left: 10px;\r\n        font-size: 24px;\r\n        color: #333;\r\n      }\r\n    }\r\n    .desc {\r\n      p {\r\n        margin: 10px 0px;\r\n        font-size: 12px;\r\n        color: #999;\r\n      }\r\n      a {\r\n        color: #0c73c2;\r\n      }\r\n    }\r\n  }\r\n\r\n  .operations {\r\n    margin-bottom: 25px;\r\n    /* margin-right: -30px; */\r\n    display: flex;\r\n    align-items: center;\r\n    .prominentBTN {\r\n      margin-right: 5px;\r\n      button {\r\n        color: #fff;\r\n        height: 31px;\r\n        text-align: center;\r\n        cursor: pointer;\r\n      }\r\n      .play {\r\n        width: 70px;\r\n        text-indent: 23px;\r\n\r\n        background-position: 0 -633px;\r\n        &:hover {\r\n          background-position: 0 -805px;\r\n        }\r\n      }\r\n      .addto {\r\n        text-indent: 999px;\r\n        width: 31px;\r\n        margin-left: -3px;\r\n        background-position: 0 -1588px;\r\n        &:hover {\r\n          background-position: -80px -1588px;\r\n        }\r\n      }\r\n    }\r\n    .otherBTN {\r\n      button {\r\n        margin-right: 5px;\r\n        height: 31px;\r\n        line-height: 31px;\r\n        color: #333;\r\n      }\r\n      .right_bg {\r\n        padding: 0 7px 0 28px;\r\n        display: inline-block;\r\n        height: 100%;\r\n        background-position: right -1020px;\r\n      }\r\n      .star {\r\n        background-position: 0 -977px;\r\n      }\r\n      .share {\r\n        background-position: 0 -1225px;\r\n      }\r\n      .down {\r\n        background-position: 0 -2761px;\r\n      }\r\n      .comment_sum {\r\n        background-position: 0 -1465px;\r\n      }\r\n    }\r\n  }\r\n  .lyrics {\r\n    .lyric-control {\r\n      position: relative;\r\n      color: #0c73c2;\r\n      background-color: #fff;\r\n      cursor: pointer;\r\n      &:hover {\r\n        text-decoration: underline;\r\n      }\r\n\r\n      i {\r\n        position: absolute;\r\n        width: 11px;\r\n        height: 8px;\r\n        right: -13px;\r\n        top: 3px;\r\n        background-position: ${(props) => (props.isSpread ? \"-45px\" : \"-65px\")} -520px;\r\n      }\r\n    }\r\n  }\r\n`;\r\n","import { memo, useState } from \"react\";\r\nimport { useSelector, shallowEqual } from \"react-redux\";\r\n\r\nimport { ASPlayerInfoWrapper, Portrait, InfoContent } from \"./style.js\";\r\n\r\nconst ASPlayerInfo = (props) => {\r\n  const [isSpread, setIsSpread] = useState(false);\r\n\r\n  /*  redux hook */\r\n  const { currentSong, currentLyrics } = useSelector(\r\n    (state) => ({\r\n      currentSong: state.getIn([\"player\", \"currentSong\"]),\r\n      currentLyrics: state.getIn([\"player\", \"currentLyrics\"]),\r\n    }),\r\n    shallowEqual\r\n  );\r\n  const { name, ar, al, dt, id } = currentSong;\r\n  const arList = ar || [];\r\n  const currentSongInfo = {\r\n    songInfo: {\r\n      name,\r\n      id,\r\n      albumName: al.name,\r\n      imgUrl: al ? al.picUrl : \"\",\r\n      duration: dt,\r\n    },\r\n    singerNames: arList.map((v) => v.name).join(\"/\"),\r\n  };\r\n\r\n  /* render相关 */\r\n\r\n  const renderInfo = () => (\r\n    <div className=\"info\">\r\n      <div className=\"name_box\">\r\n        <i className=\"icon sprite_icon2\" />\r\n        <span>{currentSongInfo.songInfo.name}</span>\r\n      </div>\r\n      <div className=\"desc\">\r\n        <p>\r\n          歌手：\r\n          <a href=\"/#\" onClick={(e) => e.preventDefault()}>\r\n            {currentSongInfo.singerNames}\r\n          </a>\r\n        </p>\r\n        <p>\r\n          所属专辑：\r\n          <a href=\"/#\" onClick={(e) => e.preventDefault()}>\r\n            Ashuntefannao😀/{currentSongInfo.songInfo.albumName}\r\n          </a>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n  // handle code\r\n  const totalLyricCount = isSpread ? currentLyrics.length : 13;\r\n\r\n  const renderOperations = () => (\r\n    <div className=\"operations\">\r\n      <div className=\"prominentBTN\">\r\n        <button className=\"play sprite_button\">播放</button>\r\n        <button className=\"addto sprite_button\">+</button>\r\n      </div>\r\n      <div className=\"otherBTN\">\r\n        <button className=\"star sprite_button\">\r\n          <span className=\"right_bg sprite_button\">收藏</span>\r\n        </button>\r\n        <button className=\"share sprite_button\">\r\n          <span className=\"right_bg sprite_button\">分享</span>\r\n        </button>\r\n        <button className=\"down sprite_button\">\r\n          <span className=\"right_bg sprite_button\">下载</span>\r\n        </button>\r\n        <button className=\"comment_sum sprite_button\">\r\n          <span className=\"right_bg sprite_button\">(9999)</span>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <ASPlayerInfoWrapper className=\"wrap-v2\">\r\n      <Portrait className=\"portrait\">\r\n        <div className=\"img_box\">\r\n          <span className=\"mask sprite_covor\" />\r\n          <img\r\n            src={currentSongInfo.songInfo.imgUrl}\r\n            alt={currentSongInfo.songInfo.name}\r\n          />\r\n        </div>\r\n        <div className=\"generator\">\r\n          <i className=\"icon sprite_icon2\" />\r\n          <a href=\"/#\" onClick={(e) => e.preventDefault()}>\r\n            生成外链播放器\r\n          </a>\r\n        </div>\r\n      </Portrait>\r\n      <InfoContent isSpread={isSpread}>\r\n        {renderInfo()}\r\n        {renderOperations()}\r\n        <div className=\"lyrics\">\r\n          {currentLyrics.slice(0, totalLyricCount).map((line, index) => (\r\n            <p className=\"lyric-line\" key={line.time + line.lyric}>\r\n              {line.lyric}\r\n            </p>\r\n          ))}\r\n\r\n          <button\r\n            className=\"lyric-control\"\r\n            onClick={(e) => setIsSpread(!isSpread)}\r\n          >\r\n            {isSpread ? \"收起\" : \"展开\"}\r\n            <i className=\"sprite_icon2\"></i>\r\n          </button>\r\n        </div>\r\n      </InfoContent>\r\n    </ASPlayerInfoWrapper>\r\n  );\r\n};\r\nexport default memo(ASPlayerInfo);\r\n","import styled from \"styled-components\";\r\n\r\nexport const RelevantSongListWrapper = styled.div`\r\n  .content {\r\n    margin: 20px 0px;\r\n\r\n    .item {\r\n      margin-bottom: 15px;\r\n      display: flex;\r\n\r\n      .img-box {\r\n        min-width: 50px;\r\n        min-height: 50px;\r\n        position: relative;\r\n        overflow: hidden;\r\n        border-radius: 3px;\r\n        a {\r\n          position: absolute;\r\n          top: 0;\r\n          bottom: 0;\r\n          left: 0;\r\n          right: 0;\r\n        }\r\n      }\r\n\r\n      .info {\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: space-between;\r\n        padding: 3px 0px 3px 10px;\r\n        a {\r\n          display: inline-block;\r\n          max-width: 135px;\r\n          font-size: 14px;\r\n          color: black;\r\n        }\r\n        .desc-box {\r\n          display: flex;\r\n          align-items: flex-end;\r\n          font-size: 12px;\r\n          .preText {\r\n            color: #999;\r\n          }\r\n          .creator-name {\r\n            display: inline-block;\r\n            max-width: 100px;\r\n            margin: 0 2px 0 4px;\r\n            color: #666;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n","import { memo, useEffect } from \"react\";\r\nimport { useDispatch, useSelector, shallowEqual } from \"react-redux\";\r\n\r\nimport { getRelevantSongListAction } from \"../../store/actionCreators.js\";\r\nimport { formatImgSize } from \"@/utils/format-utils\";\r\n\r\nimport { RelevantSongListWrapper } from \"./style.js\";\r\nimport ASThemeHeaderSmall from \"@/components/theme-header-small\";\r\n\r\nconst ASRelevantSongList = (props) => {\r\n  /*  redux hook */\r\n  const dispatch = useDispatch();\r\n  const { currentSong, relevantSongList } = useSelector(\r\n    (state) => ({\r\n      currentSong: state.getIn([\"player\", \"currentSong\"]),\r\n      relevantSongList: state.getIn([\"player\", \"relevantSongList\"]),\r\n    }),\r\n    shallowEqual\r\n  );\r\n  const { id } = currentSong;\r\n\r\n  useEffect(() => {\r\n    dispatch(getRelevantSongListAction(id));\r\n  }, [dispatch, id]);\r\n\r\n  return (\r\n    <RelevantSongListWrapper>\r\n      <ASThemeHeaderSmall title=\"包含这首歌的歌单\" />\r\n      <div className=\"content\">\r\n        {relevantSongList.map((item, index) => (\r\n          <div key={item.id} className=\"item\">\r\n            <div className=\"img-box\">\r\n              <img\r\n                src={formatImgSize(item.coverImgUrl, \"50x50\")}\r\n                alt={item.name}\r\n              />\r\n              <a href=\"/#\" onClick={(e) => e.preventDefault()}>\r\n                {\"\"}\r\n              </a>\r\n            </div>\r\n            <div className=\"info\">\r\n              <a\r\n                href=\"/#\"\r\n                className=\"text-nowrap\"\r\n                onClick={(e) => e.preventDefault()}\r\n              >\r\n                {item.name}\r\n              </a>\r\n              <div className=\"desc-box\">\r\n                <span className=\"preText\">by</span>\r\n                <span className=\"creator-name text-nowrap\">\r\n                  {item.creator.nickname}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </RelevantSongListWrapper>\r\n  );\r\n};\r\n\r\nexport default memo(ASRelevantSongList);\r\n","import styled from \"styled-components\";\r\n\r\nexport const ASSimilarSongsWrapper = styled.div`\r\n  .content {\r\n    margin: 20px 0px;\r\n    .item {\r\n      margin-bottom: 15px;\r\n      display: flex;\r\n      height: 32px;\r\n\r\n      .info {\r\n        width: 156px;\r\n        display: flex;\r\n        flex-direction: column;\r\n        font-size: 12px;\r\n        .song-name {\r\n          color: #333;\r\n        }\r\n        .artist-name {\r\n          color: #999;\r\n        }\r\n      }\r\n      .operations {\r\n        padding: 0px 3px;\r\n        flex: 1;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n        button {\r\n          width: 10px;\r\n          height: 11px;\r\n          cursor: pointer;\r\n          opacity: 0.9;\r\n        }\r\n        .play {\r\n          background-position: -69px -455px;\r\n        }\r\n        .addto {\r\n          background-position: -87px -454px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n","import { memo, useEffect } from \"react\";\r\nimport { useDispatch, useSelector, shallowEqual } from \"react-redux\";\r\n\r\nimport {\r\n  getSimilarSongsAction,\r\n  getCurrentSongAction,\r\n} from \"../../store/actionCreators.js\";\r\n\r\nimport { ASSimilarSongsWrapper } from \"./style.js\";\r\nimport ASThemeHeaderSmall from \"@/components/theme-header-small\";\r\n\r\nconst ASSimilarSongs = (props) => {\r\n  /*  redux hook */\r\n  const dispatch = useDispatch();\r\n  const { currentSong, similarSongs } = useSelector(\r\n    (state) => ({\r\n      currentSong: state.getIn([\"player\", \"currentSong\"]),\r\n      similarSongs: state.getIn([\"player\", \"similarSongs\"]),\r\n    }),\r\n    shallowEqual\r\n  );\r\n  const { id } = currentSong;\r\n\r\n  useEffect(() => {\r\n    dispatch(getSimilarSongsAction(id));\r\n  }, [dispatch, id]);\r\n\r\n  console.log(similarSongs);\r\n\r\n  //handle event\r\n  const playSong = (id) => {\r\n    dispatch(getCurrentSongAction(id));\r\n  };\r\n\r\n  return (\r\n    <ASSimilarSongsWrapper>\r\n      <ASThemeHeaderSmall title=\"相似歌曲\" />\r\n      <div className=\"content\">\r\n        {similarSongs.map((item, index) => {\r\n          const names = item.artists.map((v) => v.name).join(\"/\");\r\n          return (\r\n            <div key={item.id} className=\"item\">\r\n              <div className=\"info\">\r\n                <a\r\n                  href=\"/#\"\r\n                  className=\"song-name text-nowrap\"\r\n                  onClick={(e) => e.preventDefault()}\r\n                >\r\n                  {item.name}\r\n                </a>\r\n                <a\r\n                  href=\"/#\"\r\n                  className=\"artist-name text-nowrap\"\r\n                  onClick={(e) => e.preventDefault()}\r\n                >\r\n                  {names}\r\n                </a>\r\n              </div>\r\n              <div className=\"operations\">\r\n                <button\r\n                  className=\"play sprite_icon3\"\r\n                  onClick={(e) => playSong(item.id)}\r\n                ></button>\r\n                <button className=\"addto sprite_icon3\"></button>\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    </ASSimilarSongsWrapper>\r\n  );\r\n};\r\n\r\nexport default memo(ASSimilarSongs);\r\n","import { memo, useEffect } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nimport { changeSongPageIsMounted } from \"./store/actionCreators.js\";\r\n\r\nimport { PlayerWrapper, PlayerLeft, PlayerRight } from \"./style.js\";\r\nimport ASPlayerInfo from \"./child-pages/player-info\";\r\nimport ASRelevantSongList from \"./child-pages/relevant-song-list\";\r\nimport ASSimilarSongs from \"./child-pages/similar-songs\";\r\n\r\nconst ASPlayer = (props) => {\r\n  /*  redux hook */\r\n  const dispatch = useDispatch();\r\n\r\n  /* 其它hooks */\r\n  useEffect(() => {\r\n    dispatch(changeSongPageIsMounted(true));\r\n    return () => {\r\n      dispatch(changeSongPageIsMounted(false));\r\n    };\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <PlayerWrapper className=\"wrap-v2\">\r\n      <PlayerLeft>\r\n        <ASPlayerInfo />\r\n      </PlayerLeft>\r\n      <PlayerRight>\r\n        <ASRelevantSongList />\r\n        <ASSimilarSongs />\r\n      </PlayerRight>\r\n    </PlayerWrapper>\r\n  );\r\n};\r\nexport default memo(ASPlayer);\r\n"],"sourceRoot":""}