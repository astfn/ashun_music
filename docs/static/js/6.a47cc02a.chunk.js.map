{"version":3,"sources":["services/recommend.js","pages/discover/child-pages/recommend/store/actionCreators.js","components/top-ranking/style.js","components/top-ranking/index.js","pages/discover/child-pages/ranking/style.js","pages/discover/child-pages/ranking/index.js"],"names":["getTopBanners","interface1","url","getHotRecommends","limit","params","getNewAlbums","getTopList","idx","getSettleSingerList","cat","getTopBannersAction","dispatch","getState","then","data","topBanners","banners","type","CHANGE_TOP_BANNERS","err","getHotRecommendsAction","hotRecommends","result","CHANGE_HOT_RECOMMENDS","getNewAlbumsAction","newAlbums","albums","CHANGE_NEW_ALBUMS","getTopListAction","topUpList","topOriginList","topNewList","playlist","CHANGE_TOP_NEW_LIST","CHANGE_TOP_ORIGIN_LIST","CHANGE_TOP_UP_LIST","console","log","getSettleSingerListAction","settleSingerList","artists","CHANGE_SETTLE_SINGER_LIST","TopRankingWrapper","styled","div","ASTopRanking","props","name","coverImgUrl","tracks","nums","useDispatch","className","src","alt","href","onClick","e","preventDefault","slice","map","item","index","id","getCurrentSongAction","memo","RankingWrapper","ContentWrapper","ASRanking","useSelector","state","getIn","shallowEqual","useEffect"],"mappings":"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","file":"static/js/6.a47cc02a.chunk.js","sourcesContent":["import { interface1 } from \"./request\";\r\n\r\nexport function getTopBanners() {\r\n  return interface1({\r\n    url: \"/banner\",\r\n  });\r\n}\r\nexport function getHotRecommends(limit) {\r\n  return interface1({\r\n    url: \"/personalized\",\r\n    params: {\r\n      limit,\r\n    },\r\n  });\r\n}\r\nexport function getNewAlbums(limit) {\r\n  return interface1({\r\n    url: \"/top/album\",\r\n    params: {\r\n      limit,\r\n    },\r\n  });\r\n}\r\n\r\nexport function getTopList(idx) {\r\n  return interface1({\r\n    url: \"/top/list\",\r\n    params: {\r\n      idx,\r\n    },\r\n  });\r\n}\r\nexport function getSettleSingerList(limit, cat) {\r\n  return interface1({\r\n    url: \"/artist/list\",\r\n    params: {\r\n      limit,\r\n      cat,\r\n    },\r\n  });\r\n}\r\n","import {\r\n  CHANGE_TOP_BANNERS,\r\n  CHANGE_HOT_RECOMMENDS,\r\n  CHANGE_NEW_ALBUMS,\r\n  CHANGE_TOP_UP_LIST,\r\n  CHANGE_TOP_NEW_LIST,\r\n  CHANGE_TOP_ORIGIN_LIST,\r\n  CHANGE_SETTLE_SINGER_LIST,\r\n} from \"./constants.js\";\r\n\r\nimport {\r\n  getTopBanners,\r\n  getHotRecommends,\r\n  getNewAlbums,\r\n  getTopList,\r\n  getSettleSingerList,\r\n} from \"@/services/recommend.js\";\r\n\r\nexport function changeTopBannersAction(topBanners) {\r\n  return {\r\n    type: CHANGE_TOP_BANNERS,\r\n    topBanners,\r\n  };\r\n}\r\nexport function changeHotRecommends(hotRecommends) {\r\n  return {\r\n    type: CHANGE_HOT_RECOMMENDS,\r\n    hotRecommends,\r\n  };\r\n}\r\nexport function changeNewAlbums(newAlbums) {\r\n  return {\r\n    type: CHANGE_NEW_ALBUMS,\r\n    newAlbums,\r\n  };\r\n}\r\n\r\nexport function changeTopUpList(topUpList) {\r\n  return {\r\n    type: CHANGE_TOP_UP_LIST,\r\n    topUpList,\r\n  };\r\n}\r\nexport function changeTopNewList(topNewList) {\r\n  return {\r\n    type: CHANGE_TOP_NEW_LIST,\r\n    topNewList,\r\n  };\r\n}\r\nexport function changeTopOriginList(topOriginList) {\r\n  return {\r\n    type: CHANGE_TOP_ORIGIN_LIST,\r\n    topOriginList,\r\n  };\r\n}\r\nexport function changeSettleSingerList(settleSingerList) {\r\n  return {\r\n    type: CHANGE_SETTLE_SINGER_LIST,\r\n    settleSingerList,\r\n  };\r\n}\r\n\r\n/* 异步请求 */\r\nexport function getTopBannersAction() {\r\n  return (dispatch, getState) => {\r\n    getTopBanners().then(\r\n      (data) => {\r\n        dispatch(changeTopBannersAction(data.banners));\r\n      },\r\n      (err) => err\r\n    );\r\n  };\r\n}\r\n\r\nexport function getHotRecommendsAction(limit) {\r\n  return (dispatch, getState) => {\r\n    getHotRecommends(limit).then(\r\n      (data) => {\r\n        dispatch(changeHotRecommends(data.result));\r\n      },\r\n      (err) => err\r\n    );\r\n  };\r\n}\r\n\r\nexport function getNewAlbumsAction(limit) {\r\n  return (dispatch, getState) => {\r\n    getNewAlbums(limit).then(\r\n      (data) => {\r\n        dispatch(changeNewAlbums(data.albums));\r\n      },\r\n      (err) => err\r\n    );\r\n  };\r\n}\r\n\r\nexport function getTopListAction(idx) {\r\n  return (dispatch, getState) => {\r\n    getTopList(idx).then(\r\n      (data) => {\r\n        const { playlist } = data;\r\n        switch (idx) {\r\n          case 0: {\r\n            dispatch(changeTopNewList(playlist));\r\n            break;\r\n          }\r\n          case 2: {\r\n            dispatch(changeTopOriginList(playlist));\r\n            break;\r\n          }\r\n          case 3: {\r\n            dispatch(changeTopUpList(playlist));\r\n            break;\r\n          }\r\n          default: {\r\n            console.log(\"获取榜单失败：没有匹配的idx\");\r\n            break;\r\n          }\r\n        }\r\n      },\r\n      (err) => err\r\n    );\r\n  };\r\n}\r\n\r\nexport function getSettleSingerListAction() {\r\n  return (dispatch, getState) => {\r\n    getSettleSingerList(5, 5001).then(\r\n      (data) => {\r\n        dispatch(changeSettleSingerList(data.artists));\r\n      },\r\n      (err) => err\r\n    );\r\n  };\r\n}\r\n","import styled from \"styled-components\";\r\n\r\nexport const TopRankingWrapper = styled.div`\r\n  flex: 1;\r\n  /* border: 2px solid; */\r\n  .top {\r\n    height: 100px;\r\n    padding: 20px 0 0 20px;\r\n    display: flex;\r\n\r\n    .left {\r\n      position: relative;\r\n      width: 80px;\r\n      height: 80px;\r\n      img {\r\n        width: 100%;\r\n      }\r\n      .mask {\r\n        background-position: -145px -57px;\r\n      }\r\n    }\r\n\r\n    .right {\r\n      width: 116px;\r\n      margin: 6px 0 0 10px;\r\n\r\n      .title {\r\n        font-weight: bold;\r\n      }\r\n      .icons {\r\n        .btn {\r\n          width: 22px;\r\n          height: 22px;\r\n          margin-right: 10px;\r\n          cursor: pointer;\r\n        }\r\n        .play {\r\n          background-position: -267px -205px;\r\n          &:hover {\r\n            background-position: -267px -235px;\r\n          }\r\n        }\r\n        .favor {\r\n          background-position: -300px -205px;\r\n          &:hover {\r\n            background-position: -300px -235px;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .middle {\r\n    margin-top: 20px;\r\n    /* height: 319px; */\r\n    .item {\r\n      height: 32px;\r\n      line-height: 32px;\r\n      display: flex;\r\n      .rank {\r\n        width: 50px;\r\n        position: relative;\r\n        span {\r\n          position: absolute;\r\n          right: 0px;\r\n          width: 35px;\r\n          font-size: 16px;\r\n          text-align: center;\r\n        }\r\n      }\r\n      .info {\r\n        flex: 1;\r\n        width: 170px;\r\n        display: flex;\r\n\r\n        span {\r\n          flex: 1;\r\n          display: block;\r\n        }\r\n        .operations {\r\n          display: none;\r\n          width: 82px;\r\n          margin-right: 10px;\r\n\r\n          .btn {\r\n            width: 17px;\r\n            height: 17px;\r\n            margin-left: 8px;\r\n            cursor: pointer;\r\n          }\r\n          .play {\r\n            background-position: -267px -268px;\r\n            &:hover {\r\n              background-position: -267px -288px;\r\n            }\r\n          }\r\n          .addto {\r\n            top: 2px;\r\n            background-position: 0 -700px;\r\n            &:hover {\r\n              background-position: -22px -700px;\r\n            }\r\n            position: relative;\r\n          }\r\n\r\n          .favor {\r\n            background-position: -297px -268px;\r\n            &:hover {\r\n              background-position: -297px -288px;\r\n            }\r\n          }\r\n        }\r\n        &:hover .operations {\r\n          display: flex;\r\n          justify-content: space-around;\r\n          align-items: center;\r\n        }\r\n      }\r\n    }\r\n    .item:nth-of-type(-n + 3) > .rank {\r\n      color: #c10d0c;\r\n    }\r\n  }\r\n  .bottom {\r\n    width: 100%;\r\n    height: 32px;\r\n    display: flex;\r\n    justify-content: flex-end;\r\n    align-items: center;\r\n    a {\r\n      color: black;\r\n      margin-right: 30px;\r\n    }\r\n  }\r\n`;\r\n","import { memo } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nimport { TopRankingWrapper } from \"./style.js\";\r\nimport { getCurrentSongAction } from \"@/pages/player/store/actionCreators.js\";\r\n\r\nconst ASTopRanking = (props) => {\r\n  const { name, coverImgUrl, tracks = [], nums = 10 } = props;\r\n\r\n  const dispatch = useDispatch();\r\n  const playSong = (id) => {\r\n    dispatch(getCurrentSongAction(id));\r\n  };\r\n  return (\r\n    <TopRankingWrapper>\r\n      <div className=\"top\">\r\n        <div className=\"left\">\r\n          <img src={coverImgUrl} alt={name} />\r\n          <a\r\n            href=\"./#\"\r\n            className=\"mask image_cover\"\r\n            onClick={(e) => e.preventDefault()}\r\n          >\r\n            {\"\"}\r\n          </a>\r\n        </div>\r\n        <div className=\"right\">\r\n          <h3 className=\"title\">{name}</h3>\r\n          <div className=\"icons\">\r\n            <button className=\"btn play sprite_02\"></button>\r\n            <button className=\"btn favor sprite_02\"></button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"middle\">\r\n        {tracks.slice(0, nums).map((item, index) => (\r\n          <div className=\"item\" key={item.id}>\r\n            <div className=\"rank\">\r\n              <span>{index + 1}</span>\r\n            </div>\r\n            <div className=\"info\">\r\n              <span className=\"link text-nowrap\">{item.name}</span>\r\n              <div className=\"operations\">\r\n                <button\r\n                  className=\"btn sprite_02 play\"\r\n                  onClick={() => playSong(item.id)}\r\n                ></button>\r\n                <button className=\"btn sprite_icon2 addto\"></button>\r\n                <button className=\"btn sprite_02 favor\"></button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <div className=\"bottom\">\r\n        <a href=\"./#\" onClick={(e) => e.preventDefault()}>\r\n          查看全部 &gt;\r\n        </a>\r\n      </div>\r\n    </TopRankingWrapper>\r\n  );\r\n};\r\n\r\nexport default memo(ASTopRanking);\r\n","import styled from \"styled-components\";\r\n\r\nexport const RankingWrapper = styled.div`\r\n  border-left: 2px solid #e1e1e1;\r\n  border-right: 1px solid #d3d3d3;\r\n  background-color: #fff;\r\n`;\r\n\r\nexport const ContentWrapper = styled.div`\r\n  padding: 30px 40px;\r\n  display: flex;\r\n`;\r\n","import { memo, useEffect } from \"react\";\r\nimport { useDispatch, shallowEqual, useSelector } from \"react-redux\";\r\n\r\nimport { getTopListAction } from \"../recommend/store/actionCreators.js\";\r\n// import ASThemeHeaderRCM from \"@/components/theme-header-rcm\";\r\nimport { RankingWrapper, ContentWrapper } from \"./style.js\";\r\nimport TopRanking from \"@/components/top-ranking\";\r\n\r\nconst ASRanking = (props) => {\r\n  // const headerContent = {\r\n  //   title: \"榜单\",\r\n  //   moreLink: \"/discover/songs\",\r\n  // };\r\n  const { topUpList, topNewList, topOriginList } = useSelector(\r\n    (state) => ({\r\n      topUpList: state.getIn([\"recommend\", \"topUpList\"]),\r\n      topNewList: state.getIn([\"recommend\", \"topNewList\"]),\r\n      topOriginList: state.getIn([\"recommend\", \"topOriginList\"]),\r\n    }),\r\n    shallowEqual\r\n  );\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch(getTopListAction(0));\r\n    dispatch(getTopListAction(2));\r\n    dispatch(getTopListAction(3));\r\n  }, [dispatch]);\r\n  return (\r\n    <RankingWrapper className=\"wrap-v1\">\r\n      {/* <ASThemeHeaderRCM {...headerContent} /> */}\r\n      <ContentWrapper>\r\n        <TopRanking {...topUpList} nums={100} />\r\n        <TopRanking {...topNewList} nums={100} />\r\n        <TopRanking {...topOriginList} nums={100} />\r\n      </ContentWrapper>\r\n    </RankingWrapper>\r\n  );\r\n};\r\n\r\nexport default memo(ASRanking);\r\n"],"sourceRoot":""}